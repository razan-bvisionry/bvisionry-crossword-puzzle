<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crossword Puzzle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            display: grid;
            grid-template-areas:
                "header header"
                "grid clues"
                "grid buttons"
                "message message";
            gap: 24px;
            width: 100%;
            max-width: 1200px;
            padding: 24px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        @media (max-width: 768px) {
            .container {
                grid-template-areas:
                    "header"
                    "grid"
                    "clues"
                    "buttons"
                    "message";
                grid-template-columns: 1fr;
            }
        }

        .header {
            grid-area: header;
            text-align: center;
        }

        .grid-container {
            grid-area: grid;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .crossword-grid {
            display: inline-grid;
            border: 2px solid #1f2937;
            background-color: #e5e7eb;
        }

        .crossword-cell {
            position: relative;
            width: 35px;
            height: 35px;
            background-color: #fff;
            border: 1px solid #9ca3af;
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .crossword-cell.black {
            background-color: #1f2937;
            border: 1px solid #1f2937;
        }

        .cell-input {
            width: 100%;
            height: 100%;
            text-align: center;
            font-size: 1.25rem;
            font-weight: bold;
            color: #1f2937;
            background-color: transparent;
            border: none;
            outline: none;
            text-transform: uppercase;
        }

        .cell-number {
            position: absolute;
            top: 2px;
            left: 2px;
            font-size: 0.75rem;
            color: #4b5563;
        }

        .clues-container {
            grid-area: clues;
            font-size: 1rem;
        }

        .clues-container h3 {
            font-weight: bold;
            font-size: 1.25rem;
            margin-bottom: 8px;
            color: #1f2937;
        }

        .clues-container ol {
            list-style-type: decimal;
            list-style-position: inside;
            padding-left: 0;
        }

        .clues-container li {
            margin-bottom: 4px;
        }

        .buttons-container {
            grid-area: buttons;
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: flex-start;
        }

        .button {
            padding: 12px 24px;
            border-radius: 9999px;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
            width: 100%;
            justify-content: center;
        }

        .button:hover {
            transform: translateY(-2px);
        }

        #check-button {
            background-color: #2563eb;
            color: white;
            box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.1), 0 2px 4px -1px rgba(37, 99, 235, 0.06);
        }

        #check-button:hover {
            background-color: #1d4ed8;
        }

        #hint-button {
            background-color: #f59e0b;
            color: white;
            box-shadow: 0 4px 6px -1px rgba(245, 158, 11, 0.1), 0 2px 4px -1px rgba(245, 158, 11, 0.06);
        }

        #hint-button:hover {
            background-color: #d97706;
        }

        #reset-button {
            background-color: #ef4444;
            color: white;
            box-shadow: 0 4px 6px -1px rgba(239, 68, 68, 0.1), 0 2px 4px -1px rgba(239, 68, 68, 0.06);
        }

        #reset-button:hover {
            background-color: #dc2626;
        }

        #message-box {
            grid-area: message;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
        }

        .correct {
            background-color: #dcfce7 !important;
        }

        .incorrect {
            background-color: #fee2e2 !important;
        }
    </style>
</head>
<body class="bg-gray-100">

<div class="container">
    <div class="header">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">Crossword Puzzle</h1>
        <p class="text-gray-500 text-sm">Fill in the grid to complete the puzzle!</p>
    </div>

    <div class="grid-container">
        <div class="crossword-grid" id="crossword-grid"></div>
    </div>

    <div class="clues-container">
        <h3 class="text-lg">Across</h3>
        <ol class="list-decimal list-inside" id="across-clues">
            <!-- Clues will be dynamically added here -->
        </ol>

        <h3 class="text-lg mt-8">Down</h3>
        <ol class="list-decimal list-inside" id="down-clues">
            <!-- Clues will be dynamically added here -->
        </ol>
    </div>

    <div class="buttons-container">
        <button id="check-button" class="button"><i class="fas fa-check"></i> Check Answers</button>
        <button id="hint-button" class="button"><i class="fas fa-lightbulb"></i> Reveal 'I'</button>
        <button id="reset-button" class="button"><i class="fas fa-sync-alt"></i> Reset</button>
    </div>

    <div id="message-box"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const puzzleData = {
            width: 12,
            height: 11,
            words: [
                {
                    word: "ENTREPRENEUR",
                    clue: "The name of our first module and mindset.",
                    start_x: 0,
                    start_y: 0,
                    direction: "across",
                    number: 1
                },
                {
                    word: "FEELING",
                    clue: "The difference between challenge and obstacle.",
                    start_x: 0,
                    start_y: 3,
                    direction: "across",
                    number: 2
                },
                {
                    word: "ENVIRONMENT",
                    clue: "What has a powerful impact on your success.",
                    start_x: 0,
                    start_y: 0,
                    direction: "down",
                    number: 1
                }
            ]
        };

        const gridContainer = document.getElementById('crossword-grid');
        const acrossCluesList = document.getElementById('across-clues');
        const downCluesList = document.getElementById('down-clues');
        const checkButton = document.getElementById('check-button');
        const hintButton = document.getElementById('hint-button');
        const resetButton = document.getElementById('reset-button');
        const messageBox = document.getElementById('message-box');

        const gridState = Array.from({ length: puzzleData.height }, () => Array(puzzleData.width).fill(null));

        function createPuzzleGrid() {
            gridContainer.style.gridTemplateColumns = `repeat(${puzzleData.width}, 1fr)`;
            gridContainer.innerHTML = '';

            // Populate the gridState with the puzzle words and numbers
            puzzleData.words.forEach(wordObj => {
                const { word, start_x, start_y, direction, number } = wordObj;
                if (direction === "across") {
                    for (let i = 0; i < word.length; i++) {
                        const x = start_x + i;
                        const y = start_y;
                        if (!gridState[y][x]) {
                            gridState[y][x] = { letter: word[i], number: number };
                        } else {
                            gridState[y][x].letter = word[i];
                            gridState[y][x].number = Math.min(gridState[y][x].number, number);
                        }
                    }
                } else if (direction === "down") {
                    for (let i = 0; i < word.length; i++) {
                        const x = start_x;
                        const y = start_y + i;
                        if (!gridState[y][x]) {
                            gridState[y][x] = { letter: word[i], number: number };
                        } else {
                            gridState[y][x].letter = word[i];
                            gridState[y][x].number = Math.min(gridState[y][x].number, number);
                        }
                    }
                }
            });

            // Render the grid
            for (let y = 0; y < puzzleData.height; y++) {
                for (let x = 0; x < puzzleData.width; x++) {
                    const cell = document.createElement('div');
                    cell.classList.add('crossword-cell');
                    if (gridState[y][x]) {
                        const input = document.createElement('input');
                        input.type = 'text';
                        input.maxLength = 1;
                        input.classList.add('cell-input');
                        input.dataset.x = x;
                        input.dataset.y = y;
                        cell.appendChild(input);

                        if (gridState[y][x].number) {
                            const numberSpan = document.createElement('span');
                            numberSpan.classList.add('cell-number');
                            numberSpan.textContent = gridState[y][x].number;
                            cell.appendChild(numberSpan);
                        }
                    } else {
                        cell.classList.add('black');
                    }
                    gridContainer.appendChild(cell);
                }
            }
        }

        function populateClues() {
            acrossCluesList.innerHTML = '';
            downCluesList.innerHTML = '';

            puzzleData.words.sort((a, b) => a.number - b.number).forEach(wordObj => {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${wordObj.number}.</strong> ${wordObj.clue}`;
                if (wordObj.direction === "across") {
                    acrossCluesList.appendChild(li);
                } else {
                    downCluesList.appendChild(li);
                }
            });
        }

        function checkAnswers() {
            let allCorrect = true;
            const inputs = document.querySelectorAll('.cell-input');
            inputs.forEach(input => {
                const x = parseInt(input.dataset.x);
                const y = parseInt(input.dataset.y);
                const correctLetter = gridState[y][x].letter.toUpperCase();
                const userLetter = input.value.toUpperCase();
                if (userLetter === correctLetter) {
                    input.parentElement.classList.add('correct');
                    input.parentElement.classList.remove('incorrect');
                } else {
                    input.parentElement.classList.add('incorrect');
                    input.parentElement.classList.remove('correct');
                    allCorrect = false;
                }
            });

            if (allCorrect) {
                messageBox.textContent = "Congratulations! You've solved the puzzle!";
                messageBox.classList.add('bg-green-100', 'text-green-800');
                messageBox.classList.remove('bg-red-100', 'text-red-800');
            } else {
                messageBox.textContent = "Some answers are incorrect. Please try again.";
                messageBox.classList.add('bg-red-100', 'text-red-800');
                messageBox.classList.remove('bg-green-100', 'text-green-800');
            }
        }

        function revealHint() {
            const inputs = document.querySelectorAll('.cell-input');
            inputs.forEach(input => {
                const x = parseInt(input.dataset.x);
                const y = parseInt(input.dataset.y);
                if (gridState[y][x].letter.toUpperCase() === 'I') {
                    input.value = 'I';
                    input.disabled = true;
                    input.parentElement.classList.remove('incorrect');
                    input.parentElement.classList.add('correct');
                }
            });
        }

        function resetPuzzle() {
            const inputs = document.querySelectorAll('.cell-input');
            inputs.forEach(input => {
                input.value = '';
                input.disabled = false;
                input.parentElement.classList.remove('correct', 'incorrect');
            });
            messageBox.textContent = '';
            messageBox.classList.remove('bg-green-100', 'bg-red-100', 'text-green-800', 'text-red-800');
        }

        // Initialize the game
        createPuzzleGrid();
        populateClues();

        // Add event listeners
        checkButton.addEventListener('click', checkAnswers);
        hintButton.addEventListener('click', revealHint);
        resetButton.addEventListener('click', resetPuzzle);

        // Add input event listener for single character entry and auto-focus
        gridContainer.addEventListener('input', (e) => {
            const input = e.target;
            if (input.classList.contains('cell-input') && input.value.length === 1) {
                const nextInput = input.parentElement.nextElementSibling?.querySelector('input');
                if (nextInput) {
                    nextInput.focus();
                }
            }
        });
    });
</script>

</body>
</html>
